---
title: java中接口的使用
date: 2020-05-06 15:47:01
tags: java
---

> 下文中 [ ] 内的关键字均可省略，初次学习建议写全
# 什么是接口
接口就是多个类的公共规范。
接口是一种引用数据类型，最重要的内容就是其中的抽象方法。

# 定义格式
```java
public interface 接口名称{ 
	//接口内容
}
```
**备注**：关键字换成`interface`后，编译生成的字节码文件仍然是.java -->.class

# 基本实现

如果是java7，接口中包含的内容有：
- 常量
- 抽象方法

如果是java8，还可以额外包含：
- 默认方法
- 静态方法

如果是java9，还可以额外包含：
- 私有方法

## 抽象方法
在任何版本的java中，都可以定义抽象方法：

基本格式：
```java
[public] [abstract] 返回值类型 方法名称(参数列表);
```
注意事项：
1. 接口当中的抽象方法修饰符必须是两个固定的关键字：`public`,`abstract`
2. 这两个关键字修饰符可以选择性的省略（省略一部分或者全部省略都可以）
3. 方法的三要素可以随意定义

## 默认方法
从java8开始，接口中可以定义默认方法

基本格式：
```java
[public] default 返回值类型 方法名称(参数列表){
	方法体
}
```

接口中的默认方法可以解决接口升级的问题：

在已经投入使用的接口中添加新的抽象方法时，那么它的所有实现类必须要实现这个新添加的抽象方法，而这样操作可以会出现各种意想不到的错误，所以使用默认方法时，子类不需要实现该默认方法而**可以通过子类直接使用**。**也可以通过子类重写该默认方法**。

## 静态方法
从java8开始，接口中可以定义静态方法
基本格式：
```java
[public] static 返回值类型 方法名称(参数列表){
	方法体
}
```
使用：
- 不能通过接口实现类的对象调用接口当中静态方法
- 通过接口名称直接调用静态方法

格式：`接口名称.静态方法名(参数);`

## 私有方法
从java9开始，接口中可以定义私有方法
1. 普通私有方法，解决多个默认方法之间代码重复的问题
格式：
```java
private 返回值类型 方法名称(参数列表){
	方法体
}
```

2. 静态私有方法，就饿绝多个静态方法之间代码重复的问题
格式：
```java
private static 返回值类型 方法名称(参数列表){
	方法体
}
```

## 常量
接口中定义的常量必须用`public` `static` `final`来修饰

格式：
```java
[public] [static] [final] 数据类型 常量名称=数据值;
```
注意事项：
1. 接口当中的常量必须进行赋值
2. 常量名称建议全部用大写字母，单词之间用"_"分割
# 接口的使用步骤
1. 接口不能直接使用，必须有一个实现类来实现该接口

格式：
```java
public class 实现类名称 implements 接口名称{
	...
}
```

2. 接口的实现类必须实现接口中所有的抽象方法

> 实现：去掉abstract关键字，加上方法体大括号。
3. 创建实现类对象，进行使用

# 注意事项
1. 接口时没有静态代码块或者构造方法的。
2. 一个类的直接父类是唯一的，但一个类可以同时实现多个接口。
3. 如果实现类所实现的多个接口当中，存在重复的抽象方法，那么只需要覆盖重写一次即可。
4. 如果实现类没有重写所有接口当中的抽象方法，那么实现类就必须是一个抽象类。
5. 如果实现类所实现的多个接口当中，存在重复的默认方法那么实现类必须重写这个重复的默认方法。
6. 一个类如果直接父类当中的方法和接口中的默认方法产生冲突，优先调用父类当中的方法。

